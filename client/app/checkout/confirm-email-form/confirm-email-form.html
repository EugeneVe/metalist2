<form #confirmForm="ngForm">
  <mat-form-field class="full-width">
    <input matInput placeholder="Email" type="email" name="email" (input)="handleEmailInput()"
           ngModel #email="ngModel" required emailvalidator>
    <mat-error *ngIf="email.touched && email?.errors?.required">
      Email является <strong>обязательным</strong> полем
    </mat-error>
    <mat-error *ngIf="email.touched && !email.errors?.required && email?.errors?.emailvalidator">
      Пожалуйста введите <strong>корректный</strong> email
    </mat-error>
  </mat-form-field>
  <p>
    <a *ngIf="!confirmationMessage" (click)="confirmEmail(email.value)" class="confirm-email"
       [class.not-active]="!email.value || email.errors">Подтвердить email
    </a>
    <span *ngIf="confirmationMessage">{{confirmationMessage}}</span>
  </p>
  <div [hidden]="!showSection">
    <mat-form-field class="full-width" >
      <input matInput placeholder="Пароль" type="password" name="password"
             (input)="handlePasswordInput()" ngModel #password="ngModel" required>
      <mat-error *ngIf="password.touched && password?.errors?.required">
        Пароль является <strong>обязательным</strong> полем
      </mat-error>
    </mat-form-field>
    <button (click)="login(email.value, password.value)"
            class="btn btn-warning btn-block" [disabled]="confirmForm.invalid">Войти
    </button>
    <p *ngIf="loginMessage">{{loginMessage}}</p>
  </div>
</form>

